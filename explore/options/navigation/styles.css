:root {
      --bg: linear-gradient(180deg,#fff7f3,#fffdfa);
      --card: #ffffff;
      --muted: #6b6b75;
      --accent-start: #ff6b6b; /* coral */
      --accent-mid: #ffb86b;   /* warm yellow */
      --accent-purple: #7c4dff; /* violet accent */
      --accent-deep: #6a33e8;
      --glass: rgba(255,255,255,0.6);
      --shadow-lg: 0 22px 70px rgba(18,14,30,0.08);
      --shadow-md: 0 10px 34px rgba(18,14,30,0.06);
      --radius: 14px;
      --max-width: 1180px;
      --gap: 20px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color-scheme: light;
    }

    * { box-sizing: border-box; }
    html,body { height:100%; margin:0; background: var(--bg); color:#081124; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }

    main {
      display:flex; justify-content:center; padding:56px 20px;
    }

    .maps-section {
      width:100%; max-width:var(--max-width); padding:28px; border-radius:18px; background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.99)); box-shadow:var(--shadow-lg); border:1px solid rgba(10,10,10,0.03);
      overflow:hidden; position:relative;
    }

    .maps-section::after {
      content:""; position:absolute; right:-140px; top:-100px; width:480px; height:480px; background: radial-gradient(circle at 30% 30%, rgba(124,77,255,0.08), transparent 40%); filter: blur(48px); pointer-events:none;
    }

    .content { display:flex; flex-direction:column; gap:18px; }

    .intro {
      display:flex; justify-content:space-between; align-items:center; gap:14px;
    }

    .intro-left { flex:1; max-width:820px; }
    .intro-right { width:160px; height:100px; display:flex; align-items:center; justify-content:center; position:relative; }

    .blob { width:160px; height:100px; transform:rotate(-8deg); opacity:0.98; }

    .intro h2 { margin:0; font-size:1.7rem; letter-spacing:-0.01em; font-weight:800; color:#061124; }
    .lead { margin-top:8px; margin-bottom:12px; color:var(--muted); font-size:1rem; max-width:66ch; }

    .cta-row { display:flex; gap:10px; margin-top:6px; }

    .btn {
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 14px; border-radius:10px; border:1px solid rgba(10,10,10,0.04); background:transparent; cursor:pointer; transition:transform 160ms ease, box-shadow 160ms ease, background 160ms ease; font-weight:700; color:#081124;
    }

    .btn:hover { transform:translateY(-4px); box-shadow:var(--shadow-md); }
    .btn:active { transform:translateY(-2px); }

    .btn-accent {
      background: linear-gradient(90deg, var(--accent-start), var(--accent-mid));
      color:white; border:none; box-shadow: 0 10px 32px rgba(255,107,107,0.14);
    }

    .btn-ghost { border:1px dashed rgba(10,10,10,0.04); background:transparent; color:var(--muted); }

    .btn.small { padding:6px 9px; font-size:0.9rem; border-radius:8px; }

    .features-and-map { display:grid; grid-template-columns:420px 1fr; gap:var(--gap); align-items:start; margin-top:8px; }

    .features { display:grid; gap:14px; }

    .feature-card {
      display:grid; grid-template-columns:56px 1fr auto; gap:14px; align-items:center; padding:14px; background:linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,251,249,0.98)); border-radius:12px; border:1px solid rgba(10,10,10,0.03); box-shadow:0 10px 30px rgba(12,8,24,0.03); transition:transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 220ms ease;
      cursor:default;
    }

    .feature-card:hover { transform:translateY(-8px); box-shadow:0 20px 48px rgba(12,8,24,0.06); }

    .feature-icon { width:56px; height:56px; display:flex; align-items:center; justify-content:center; border-radius:12px; background:linear-gradient(135deg, rgba(255,107,107,0.08), rgba(124,77,255,0.06)); color:var(--accent-deep); }

    .feature-body h3 { margin:0; font-size:1.03rem; font-weight:700; color:#091026; }
    .feature-body p { margin:6px 0 0; color:var(--muted); font-size:0.95rem; }

    .feature-action { display:flex; align-items:center; }

    .map-pane { display:flex; flex-direction:column; gap:12px; }

    .map-header { display:flex; justify-content:space-between; align-items:center; }
    .map-title { font-weight:800; font-size:0.98rem; color:#061124; }
    .map-controls { display:flex; gap:10px; align-items:center; }

    .control { display:inline-flex; gap:8px; align-items:center; color:var(--muted); font-size:0.92rem; }

    .map {
      height:520px; border-radius:14px; overflow:hidden; position:relative; background: linear-gradient(180deg,#fff6f4,#fffdfa);
      border:1px solid rgba(10,10,10,0.03); box-shadow:var(--shadow-md); display:block;
      transition:transform 260ms ease;
    }

    .map::before {
      content:""; position:absolute; inset:0; background-image:
        linear-gradient(rgba(10,10,10,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(10,10,10,0.02) 1px, transparent 1px);
      background-size:140px 140px; opacity:0.9; pointer-events:none; mix-blend-mode:multiply;
    }

    .map-stage { position:absolute; inset:0; z-index:2; pointer-events:auto; }

    .pin {
      position:absolute; display:inline-grid; place-items:center; gap:6px; transform:translate(-50%,-100%); cursor:pointer; z-index:6; user-select:none; transition:transform 200ms ease, box-shadow 200ms ease;
      will-change:transform;
    }

    .pin .dot {
      width:18px; height:18px; border-radius:50%; background:linear-gradient(180deg,var(--accent-start),var(--accent-mid)); border:3px solid white; box-shadow:0 12px 36px rgba(255,107,107,0.16);
    }

    .pin.hotel .dot { background:linear-gradient(180deg,#ffd36b,#ff8a6b); box-shadow:0 12px 36px rgba(255,184,107,0.12); }
    .pin.station .dot { background:linear-gradient(180deg,#7c4dff,#6a33e8); box-shadow:0 12px 36px rgba(124,77,255,0.12); }

    .pin::after {
      content:""; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:20px; height:20px; border-radius:50%; background:transparent; box-shadow:0 0 0 0 rgba(124,77,255,0.10); animation: none;
    }

    .pin.pulse::after { animation: ping 1200ms ease-out infinite; }

    @keyframes ping {
      0% { box-shadow: 0 0 0 0 rgba(124,77,255,0.12); opacity:1; }
      70% { box-shadow: 0 0 0 26px rgba(124,77,255,0.04); opacity:0.6; }
      100% { box-shadow:0 0 0 40px rgba(124,77,255,0.02); opacity:0; }
    }

    .pin .tooltip {
      display:none; position:absolute; top:-56px; left:50%; transform:translateX(-50%); background:white; padding:10px 14px; border-radius:12px; box-shadow:0 18px 54px rgba(12,8,24,0.12); border:1px solid rgba(10,10,10,0.04); font-size:0.9rem; white-space:nowrap;
    }

    .pin.show-tooltip .tooltip { display:block; }

    .map-legend { margin-top:8px; font-size:0.9rem; color:var(--muted); display:flex; gap:18px; align-items:center; }
    .map-legend ul { list-style:none; display:flex; gap:12px; margin:0; padding:0; align-items:center; }
    .legend-pin { width:12px; height:12px; border-radius:50%; display:inline-block; border:2px solid white; box-shadow:0 8px 24px rgba(12,8,24,0.06); }
    .legend-pin.poi { background:linear-gradient(180deg,var(--accent-start),var(--accent-mid)); }
    .legend-pin.hotel { background:linear-gradient(180deg,#ffd36b,#ff8a6b); }
    .legend-pin.station { background:linear-gradient(180deg,#7c4dff,#6a33e8); }

    .download-status { display:flex; gap:12px; align-items:center; margin-top:10px; }
    .download-bar { flex:1; background:linear-gradient(180deg, rgba(10,10,10,0.02), rgba(10,10,10,0.01)); height:10px; border-radius:10px; overflow:hidden; border:1px solid rgba(10,10,10,0.03); }
    .download-progress { background:linear-gradient(90deg,var(--accent-start),var(--accent-deep)); height:100%; width:0%; transition:width 340ms linear; }

    .modal { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(6,10,15,0.36); padding:20px; z-index:120; }
    .modal[aria-hidden="false"] { display:flex; }
    .modal-panel { width:100%; max-width:520px; background:linear-gradient(180deg,#ffffff,#fffdf9); border-radius:14px; padding:18px; box-shadow:0 26px 70px rgba(2,6,23,0.26); border:1px solid rgba(10,10,10,0.04); }
    .modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
    .modal-body label { display:block; margin-bottom:12px; font-size:0.95rem; color:var(--muted); }
    select { width:100%; margin-top:6px; padding:10px; border-radius:10px; border:1px solid rgba(10,10,10,0.06); background:#fff; font-size:0.95rem; color:#081124; }
    .form-actions { display:flex; justify-content:flex-end; margin-top:12px; }
    .calc-result { margin-top:14px; background:linear-gradient(180deg, rgba(124,77,255,0.05), rgba(255,184,107,0.03)); padding:12px; border-radius:10px; border:1px solid rgba(10,10,10,0.03); color:#081124; }

    .feature-card:focus { outline:3px solid rgba(124,77,255,0.10); transform:translateY(-6px); }

    .exit-fullscreen {
      position:absolute;
      top:12px;
      right:12px;
      z-index:60;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg, #ffffff, #fff7f7);
      border-radius:10px;
      border:1px solid rgba(10,10,10,0.06);
      box-shadow:0 8px 20px rgba(12,8,24,0.12);
    }

    .map:fullscreen {
      height:100vh !important;
      width:100vw !important;
      border-radius:0 !important;
      box-shadow:none !important;
      margin:0 !important;
    }

    .map.is-fullscreen {
      position:fixed !important;
      inset:0 !important;
      width:100vw !important;
      height:100vh !important;
      z-index:9999 !important;
      border-radius:0 !important;
      margin:0 !important;
      box-shadow:none !important;
      background:linear-gradient(180deg,#fff8f6,#ffffff);
    }

    .map:fullscreen .exit-fullscreen,
    .map.is-fullscreen .exit-fullscreen {
      display:inline-flex;
    }

    @media (max-width:980px) {
      .features-and-map { grid-template-columns:1fr; }
      .map { height:420px; }
      .intro-right { display:none; }
    }

    @media (max-width:520px) {
      .intro h2 { font-size:1.25rem; }
      .lead { font-size:0.95rem; }
      .feature-card { grid-template-columns:48px 1fr auto; padding:12px; border-radius:12px; }
      .map { height:300px; }
      .cta-row { flex-direction:column; gap:8px; }
    }
